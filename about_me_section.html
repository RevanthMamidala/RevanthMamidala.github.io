<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Me</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #f4f4f4;
            color: #333;
        }
        header {
            background: linear-gradient(135deg, #1a5f7a, #3498db);
            color: #fff;
            padding: 20px 0;
            text-align: center;
        }
        header h1 {
            margin: 0;
        }
        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
            padding: 40px 0;
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }
        .profile-image {
            flex: 0 0 30%;
            text-align: center;
        }
        .profile-image img {
            width: 100%;
            max-width: 200px;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
        .profile-image h3 {
            margin-top: 10px;
            color: #1a5f7a;
            font-weight: bold;
        }
        .content {
            flex: 1;
            line-height: 1.8;
            font-size: 1.1rem;
        }
        .content h3 {
            margin-top: 20px;
            color: #1a5f7a;
        }
        .latest-content, .photo-gallery {
            width: 80%;
            margin: auto;
            padding: 40px 0;
        }
        .latest-content h3, .photo-gallery h3 {
            color: #1a5f7a;
        }
        .latest-content ul {
            list-style: none;
            padding: 0;
        }
        .latest-content ul li {
            margin: 10px 0;
        }
        .latest-content a {
            text-decoration: none;
            color: #3498db;
        }
        .photo-gallery-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 250px;
            overflow: hidden;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .photo-gallery-slide {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
        }
        .gallery-image {
            width: 300px;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .gallery-image.active {
            opacity: 1;
        }
        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            cursor: pointer;
            z-index: 10;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50%;
            transition: background-color 0.3s ease;
        }
        .arrow:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }
        .arrow-left {
            left: 20px;
        }
        .arrow-right {
            right: 20px;
        }
        .gallery-indicators {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 10px;
        }
        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ccc;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .indicator.active {
            background-color: #3498db;
        }
        .loading-message {
            text-align: center;
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <header>
        <h1>About Me</h1>
    </header>
    <div class="container">
        <div class="profile-image">
            <img src="https://raw.githubusercontent.com/RevanthMamidala/RevanthMamidala.github.io/main/Revanth_Mamidala.png" alt="Revanth Mamidala">
            <h3>Revanth Mamidala</h3>
        </div>
        <div class="content">
            <p>Hi there! I am a researcher dedicated to exploring the Water-Energy-Climate nexus and advancing eco-hydrological modeling to protect drinking water resources and promote sustainable agriculture. My current work focuses on drinking water treatment, fate and transport of nutrients, and developing Best Management Practices for drinking water protection in the face of climate change.</p>
            <p>Previously, I conducted research on hydrodynamic modeling and glacial lake outburst flood (GLOF) modeling and risk analysis, addressing critical challenges in water-related hazard assessment. Earlier in my career, my research centered on the circular economy, resource recovery, and wastewater treatment.</p>
            <h3>Research Interests:</h3>
            <ul>
                <li>Broadly, I am interested in the dynamics of the Water-Food-Energy nexus in future climatic and socio-economic conditions.</li>
                <li>Eco-hydrologic modeling</li>
                <li>Nutrient transport modeling</li>
                <li>Hydrodynamic modeling</li>
            </ul>
        </div>
    </div>

    <div class="latest-content">
        <h3>Latest Content</h3>
        <ul>
            <li><a href="https://medium.com/@mrevanth/the-changing-american-landscape-annual-statistics-of-national-land-cover-data-of-mainland-usa-20d0e1e4ee73" target="_blank">The Changing American Landscape: Annual Statistics of National Land Cover Data of Mainland USA</a></li>
        </ul>
    </div>

    <div class="photo-gallery">
        <h3>Photo Gallery</h3>
        <div class="photo-gallery-container">
            <button class="arrow arrow-left">&#9664;</button>
            <div class="photo-gallery-slide" id="photoGallery">
                <div class="loading-message">Loading images...</div>
            </div>
            <button class="arrow arrow-right">&#9654;</button>
        </div>
        <div class="gallery-indicators" id="indicators"></div>
    </div>

    <script>
        const galleryPath = 'https://raw.githubusercontent.com/RevanthMamidala/RevanthMamidala.github.io/main/PhotoGallery/';
        const repoApiUrl = 'https://api.github.com/repos/RevanthMamidala/RevanthMamidala.github.io/contents/PhotoGallery';
        const maxImages = 10; // Maximum number of images to display (set to 0 for no limit)
        const supportedExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp', 'bmp', 'svg'];
        
        const galleryContainer = document.getElementById('photoGallery');
        const indicatorsContainer = document.getElementById('indicators');
        let slideIndex = 0;
        let images = [];
        let loadedImages = 0;
        let imageNames = [];

        function showSlide(n) {
            if (images.length === 0) return;
            
            if (n >= images.length) slideIndex = 0;
            if (n < 0) slideIndex = images.length - 1;

            // Hide all images
            images.forEach(img => img.classList.remove('active'));
            
            // Show current image
            if (images[slideIndex]) {
                images[slideIndex].classList.add('active');
            }

            // Update indicators
            const indicators = document.querySelectorAll('.indicator');
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === slideIndex);
            });
        }

        function nextSlide() {
            slideIndex++;
            showSlide(slideIndex);
        }

        function prevSlide() {
            slideIndex--;
            showSlide(slideIndex);
        }

        function goToSlide(n) {
            slideIndex = n;
            showSlide(slideIndex);
        }

        function isImageFile(filename) {
            const extension = filename.split('.').pop().toLowerCase();
            return supportedExtensions.includes(extension);
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        async function fetchImageList() {
            try {
                galleryContainer.innerHTML = '<div class="loading-message">Loading gallery...</div>';
                
                const response = await fetch(repoApiUrl);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const files = await response.json();
                
                // Filter image files
                let imageFiles = files
                    .filter(file => file.type === 'file' && isImageFile(file.name))
                    .map(file => file.name);
                
                // Shuffle for variety (optional)
                imageFiles = shuffleArray(imageFiles);
                
                // Limit number of images if specified
                if (maxImages > 0 && imageFiles.length > maxImages) {
                    imageFiles = imageFiles.slice(0, maxImages);
                }
                
                if (imageFiles.length === 0) {
                    galleryContainer.innerHTML = '<div class="loading-message">No images found in the gallery folder.</div>';
                    return;
                }
                
                imageNames = imageFiles;
                console.log(`Found ${imageNames.length} images:`, imageNames);
                
                createImages();
                
            } catch (error) {
                console.error('Error fetching image list:', error);
                galleryContainer.innerHTML = '<div class="loading-message">Error loading gallery. Using fallback images...</div>';
                
                // Fallback to your original image list
                imageNames = ['1Z0A6122.jpg', '20230618_131906.jpg', '1000003650.JPEG', 'Revanth Formal Image.jpeg'];
                setTimeout(createImages, 1000);
            }
        }

        function createImages() {
            galleryContainer.innerHTML = '';
            images = [];
            loadedImages = 0;
            
            imageNames.forEach((imageName, index) => {
                const img = document.createElement('img');
                img.src = `${galleryPath}${imageName}`;
                img.alt = `Gallery Image ${index + 1}`;
                img.className = 'gallery-image';
                
                img.onload = () => {
                    loadedImages++;
                    if (loadedImages === 1) {
                        // Show first image immediately
                        img.classList.add('active');
                    }
                    if (loadedImages === imageNames.length) {
                        createIndicators();
                    }
                };
                
                img.onerror = () => {
                    console.error(`Error loading image: ${imageName}`);
                    loadedImages++;
                    if (loadedImages === imageNames.length) {
                        createIndicators();
                    }
                };
                
                galleryContainer.appendChild(img);
                images.push(img);
            });
        }

        function createIndicators() {
            indicatorsContainer.innerHTML = '';
            imageNames.forEach((_, index) => {
                const indicator = document.createElement('div');
                indicator.className = 'indicator';
                if (index === 0) indicator.classList.add('active');
                indicator.addEventListener('click', () => goToSlide(index));
                indicatorsContainer.appendChild(indicator);
            });
        }

        // Event listeners
        document.querySelector('.arrow-left').addEventListener('click', prevSlide);
        document.querySelector('.arrow-right').addEventListener('click', nextSlide);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') prevSlide();
            if (e.key === 'ArrowRight') nextSlide();
        });

        // Auto-slide (optional - uncomment to enable)
        // setInterval(nextSlide, 5000);

        // Initialize gallery
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', fetchImageList);
        } else {
            fetchImageList();
        }
    </script>
</body>
</html>
